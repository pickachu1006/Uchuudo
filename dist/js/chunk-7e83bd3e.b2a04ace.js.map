{"version":3,"sources":["webpack:///./src/components/Pagination.vue?2ff1","webpack:///src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?23e0","webpack:///./src/components/Pagination.vue","webpack:///./src/views/Orderlist.vue?dcd7","webpack:///src/views/Orderlist.vue","webpack:///./src/views/Orderlist.vue?c8e9","webpack:///./src/views/Orderlist.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","aria-label","staticClass","class","disabled","pageData","has_pre","href","on","click","$event","preventDefault","getPage","current_page","aria-hidden","_v","_l","page","key","active","_s","has_next","staticRenderFns","Paginationvue_type_script_lang_js_","name","props","type","Object","default","data","methods","$emit","components_Paginationvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","isLoading","update:active","_m","item","id","Date","create_at","getFullYear","getMonth","getDate","user","email","i","product","title","width","qty","unit","_f","total","pagination","getPageOut","getorders","Orderlistvue_type_script_lang_js_","components","Pagination","orders","tempOrder","arguments","length","undefined","api","concat","vm","$http","get","then","response","console","log","created","views_Orderlistvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-7e83bd3e.b2a04ace.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination\"},[_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pageData.has_pre}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();_vm.getPage(_vm.pageData.current_page-1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")]),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Previous\")])])]),_vm._l((_vm.pageData.total_pages),function(page){return _c('li',{key:page,staticClass:\"page-item\",class:{'active': _vm.pageData.current_page===page}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.getPage(page)}}},[_vm._v(_vm._s(page))])])}),_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pageData.has_next}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();_vm.getPage(_vm.pageData.current_page+1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")]),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Next\")])])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <nav aria-label=\"Page navigation example\">\n        <ul class=\"pagination\">\n            <li class=\"page-item\" :class=\"{'disabled': !pageData.has_pre}\">\n            <a class=\"page-link\" href=\"#\" aria-label=\"Previous\"\n            @click.prevent=\"getPage(pageData.current_page-1)\">\n                <span aria-hidden=\"true\">&laquo;</span>\n                <span class=\"sr-only\">Previous</span>\n            </a>\n            </li>\n            <li class=\"page-item\" v-for=\"page in pageData.total_pages\" :key=\"page\" \n                :class=\"{'active': pageData.current_page===page}\">\n                <a class=\"page-link\" href=\"#\" @click.prevent=\"getPage(page)\" >{{page}}</a>\n                </li>\n            <li class=\"page-item\" :class=\"{'disabled': !pageData.has_next}\">\n            <a class=\"page-link\" href=\"#\" aria-label=\"Next\"\n            @click.prevent=\"getPage(pageData.current_page+1)\">\n                <span aria-hidden=\"true\">&raquo;</span>\n                <span class=\"sr-only\">Next</span>\n            </a>\n            </li>\n        </ul>\n        </nav>\n    </div>\n    \n</template>\n\n<script>\nimport $ from 'jquery'\nimport { mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  name: 'Pagination',\n  props:{\n      pageData:{\n        type:Object,\n        default:{}\n      }\n  },\n  data(){\n      return{\n        \n      }\n  },\n  methods:{\n      getPage(page){\n          this.$emit('getPageOut',page)\n      }\n  },\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=7620f561&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Pagination.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.orders),function(item){return _c('tr',{key:item.id},[_c('td',[_vm._v(_vm._s(((new Date(item.create_at*1000).getFullYear()) + \"-\\n                      \" + (new Date(item.create_at*1000).getMonth()+1) + \"-\\n                      \" + (new Date(item.create_at*1000).getDate()) + \"\\n                      \"))+\"\\n             \")]),_c('td',[_vm._v(_vm._s(item.user.email))]),_c('td',_vm._l((item.products),function(i){return _c('tr',{key:i.id,staticClass:\"table-borderless\"},[_c('td',[_vm._v(_vm._s(i.product.title))]),_c('td',{attrs:{\"width\":\"100\"}},[_vm._v(_vm._s(i.qty)+\"/\"+_vm._s(i.product.unit))])])})),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))]),_c('td',[(item.is_paid)?_c('span',{staticClass:\"text-success\"},[_vm._v(\"已付款\")]):_c('span',[_vm._v(\"未付款\")])])])}))]),_c('pagination',{attrs:{\"pageData\":_vm.pagination},on:{\"getPageOut\":_vm.getorders}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"購買時間\")]),_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\"Email\")]),_c('th',[_vm._v(\"購買款項\")]),_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\"應付金額\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"是否付款\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n      <loading :active.sync=\"isLoading\"></loading>\n        <table class=\"table mt-4\">\n            <thead>\n                <th width=\"120\">購買時間</th>\n                <th width=\"100\">Email</th>\n                <th >購買款項</th>\n                <th width=\"100\">應付金額</th>\n                <th width=\"120\">是否付款</th>\n                \n            </thead>\n            <tbody>\n                <tr v-for=\"(item) in orders\" :key=\"item.id\">\n                    <td>{{`${new Date(item.create_at*1000).getFullYear()}-\n                          ${new Date(item.create_at*1000).getMonth()+1}-\n                          ${new Date(item.create_at*1000).getDate()}\n                          `}}\n                 </td>\n                    <td>{{item.user.email}}</td>\n                    <td>\n                        <tr v-for=\"i in item.products\" :key=\"i.id\" class=\"table-borderless\">\n                            <td >{{ i.product.title }}</td>\n                            <td width=\"100\">{{ i.qty }}/{{ i.product.unit }}</td>\n                        </tr>\n                    </td>\n                    <td class=\"text-right\">{{item.total | currency }}</td>\n                    <td>\n                        <span v-if=\"item.is_paid\" class=\"text-success\">已付款</span>\n                        <span v-else>未付款</span>\n                    </td>\n                    \n                </tr>\n            </tbody>\n        </table>\n        <pagination :pageData=\"pagination\" @getPageOut=\"getorders\"></pagination>\n\n    </div>\n</template>\n\n<script>\nimport $ from 'jquery'\nimport pagination from '@/components/Pagination'\n\nexport default {\n  components:{\n            pagination\n        },\n  data(){\n      return{\n          orders:[], //全部資料\n          tempOrder:{}, //暫時存取編輯、刪除所選的資料\n          isLoading: false, //控制全畫面loading效果\n          pagination:{},\n      }\n  },\n  methods:{\n      //取得遠端資料\n      getorders(page = 1){\n        const api =`${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/orders?page=${page}`;\n        const vm = this;\n        vm.isLoading = true; //開啟全畫面loading效果\n        this.$http.get(api).then((response)=>{\n            console.log(response.data)\n            vm.isLoading = false; //關閉全畫面loading效果\n            vm.orders=response.data.orders\n            vm.pagination=response.data.pagination\n        })\n      }, \n    //   //打開Modal\n    //   openModal(item){ \n        \n    //         // 將該商品傳入tempOrder，但為避免傳參考，使用ES6物件方法\n    //           this.tempOrder = Object.assign({},item);\n    //       $('#orderModal').modal('show')\n    //   },\n    //   //確認鍵\n    //   updateOrder(){\n    //     const vm = this;\n    //     const api =`${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/order/${vm.tempOrder.id}`;\n    //     this.$http.put(api,{data:vm.tempOrder}).then((response)=>{\n    //             if(response.data.success){\n    //                 $('#orderModal').modal('hide');\n    //                 vm.getorders();\n    //             }else{\n    //                 $('#orderModal').modal('hide');\n    //                 vm.getorders();\n    //                 console.log(response)\n    //             }\n    //         })\n    //   },\n      //打開刪除Modal\n      // deletModal(item){\n      //     this.tempOrder = Object.assign({},item);\n      //     $('#delorderModal').modal('show')\n      // },\n      //確認刪除\n      // deletOK(){\n      //     const vm = this\n      //     let api =`${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/orders/${vm.tempOrder.id}`;\n      //     this.$http.delete(api,{data:vm.tempOrder}).then((response)=>{\n      //           if(response.data.success){\n      //               $('#delorderModal').modal('hide');\n      //               vm.getorders();\n      //           }else{\n      //               $('#delorderModal').modal('hide');\n      //               vm.getorders();\n      //               console.log('刪除失敗')\n      //           }\n      //       })\n      // },\n      // uploadFile(){\n      //   const vm = this;\n      //   const uploadedFile = this.$refs.files.files[0];\n      //   const formData = new FormData();\n      //   vm.status.fileUploading =true;  //開啟loading icon\n      //   formData.append('file-to-upload',uploadedFile)\n      //   const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/upload`;\n      //   this.$http.post(url,formData,{\n      //     header:{\n      //       'Content-Type':'multipart/form-data'\n      //     }\n      //   }).then((response)=>{\n      //     console.log(response.data)\n      //     vm.status.fileUploading =false; //關閉loading icon\n      //     if(response.data.success){\n      //       // vm.tempOrder.imageUrl = response.data.imageUrl\n      //       vm.$set(vm.tempOrder,'imageUrl',response.data.imageUrl)\n      //     }else{\n      //       this.$bus.$emit('message:push',response.data.message,'danger');\n      //     }\n      //   })\n      // }\n  },\n  created(){\n          this.getorders()\n          \n      }   \n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orderlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orderlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orderlist.vue?vue&type=template&id=3121f228&\"\nimport script from \"./Orderlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Orderlist.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Orderlist.vue\"\nexport default component.exports"],"sourceRoot":""}